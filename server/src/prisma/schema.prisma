datasource db {
  url      = env("DATABASE_CONNECTION_STRING")
  provider = "postgresql"
}

generator client {
  provider = "prisma-client-ts"
}

model User {
  id             Int      @id @default(autoincrement())
  firstName      String
  lastName       String
  username       String
  email          String   @unique
  password       String
  role           UserRole
  quizzesCreated Quiz[]
}

enum UserRole {
  user
  admin
}

enum GameMode {
  solo
  squad
}

model Quiz {
  uuid         String     @id
  createrEmail String
  createdBy    User       @relation(fields: [createrEmail], references: [email])
  questions    Question[]
  title        String
  description  String
  stars        Int
}

model Question {
  questionId Int      @id
  quizId     String
  includedBy Quiz     @relation(fields: [quizId], references: [uuid])
  answers    Answer[]
}

model Answer {
  answerId   Int      @id
  text       String
  isCorrect  Boolean
  question   Question @relation(fields: [includedBy], references: [questionId])
  includedBy Int
}
